(()=>{var e={59:(e,t,o)=>{const r=o(603),a=async e=>{e.preventDefault(),r.hideError();const t=e.target.querySelector("#quoteCopy").value,o=e.target.querySelector("#_csrf").value;if(!t)return r.handleError("You didn't enter a quote!"),!1;let a;await navigator.geolocation.getCurrentPosition((e=>{const t={latitude:e.coords.latitude,longitude:e.coords.longitude};a=t})),setTimeout((()=>void 0!==a?(r.sendRequest("POST","/addLocationQuote",{quoteCopy:t,location:a,_csrf:o}),!1):(r.handleError("Unable to access your location!"),!1)),5e3)};e.exports={LocationQuoteWindow:e=>React.createElement("form",{id:"lqForm",onSubmit:a,name:"lqForm",action:"/addLocationQuote",method:"POST",className:"lqForm"},React.createElement("h1",null,"Add a Location-based Quote:"),React.createElement("label",{htmlFor:"quoteCopy"},"Quote: "),React.createElement("input",{id:"quoteCopy",type:"text",name:"quoteCopy",placeholder:"What'd you hear?"}),React.createElement("input",{id:"_csrf",type:"hidden",name:"_csrf",value:e.csrf}),React.createElement("input",{className:"submitQuote",type:"submit",value:"Submit Quote"}))}},603:e=>{const t=e=>{document.getElementById("errorText").textContent=e,document.getElementById("errorMessage").classList.remove("hidden")};e.exports={handleError:t,sendRequest:async(e,o,r,a)=>{const n=await fetch(o,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),d=await n.json();document.getElementById("errorMessage").classList.add("hidden"),d.redirect&&(window.location=d.redirect),d.error&&t(d.error),a&&a(d)},hideError:()=>{document.getElementById("errorMessage").classList.add("hidden")},getLocation:async()=>navigator.geolocation.getCurrentPosition((e=>({latitude:e.coords.latitude,longitude:e.coords.longitude})))}}},t={};!function o(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,o),n.exports}(59)})();