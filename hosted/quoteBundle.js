(()=>{var e={59:(e,t,a)=>{const{useState:o,useEffect:n}=React,r=a(603),c=async e=>{e.preventDefault();const t=e.target.querySelector("#quoteCopy").value,a=e.target.querySelector("#_csrf").value;if(!t)return r.handleError("You didn't enter a quote!"),!1;await navigator.geolocation.getCurrentPosition((e=>{const o={latitude:e.coords.latitude,longitude:e.coords.longitude};void 0!==o?r.sendRequest("POST","/addQuote",{quoteCopy:t,location:o,_csrf:a}):r.handleLocationError("Unable to access your location!")}))},s=e=>{if(0===e.quotes.length||!e.quotes)return React.createElement("div",null,React.createElement("h3",{className:"pageHeader"},"No thoughts. Head empty."));const t=e.quotes.map((t=>React.createElement("div",{className:"quoteObject",key:t._id},React.createElement("h2",null,t.quoteCopy),t.boosted?React.createElement("h3",null,"(quote aleady boosted)"):React.createElement("button",{onClick:()=>d(e.username,t,e.csrf)},"Boost quote?"))));return React.createElement("div",null,React.createElement("h1",{className:"pageHeader"},e.username,"'s Quotes"),t)},l=async(e,t,a)=>{const o=t._id,n=a.value;r.sendRequest("PUT","/addVote",{quoteID:o,voteValue:e,_csrf:n})},d=async(e,t,a)=>{const o=t._id,n=a;r.sendRequest("PUT","/boostQuote",{quoteID:o,_csrf:n});const c=await fetch("/getOwnerQuotes",{method:"GET",headers:{Accept:"application/json"}}),l=(await c.json()).quotes;ReactDOM.render(React.createElement(s,{username:e,csrf:n,quotes:l}),document.getElementById("content")),ReactDOM.render("",document.getElementById("content2"))};e.exports={QuoteMakerWindow:e=>React.createElement("form",{id:"lqForm",onSubmit:c,name:"lqForm",action:"/addQuote",method:"POST",className:"mainForm"},React.createElement("label",{htmlFor:"quoteCopy"},"What did ",React.createElement("b",null,"you")," hear?"),React.createElement("input",{id:"quoteCopy",type:"text",name:"quoteCopy",placeholder:"enter quote"}),React.createElement("input",{id:"_csrf",type:"hidden",name:"_csrf",value:e.csrf}),React.createElement("input",{className:"submitQuote",type:"submit",value:"Submit Quote"})),QuoteContainer:e=>{const[t,a]=o(e.quotes);if(n((()=>{const e=setInterval((async()=>{await navigator.geolocation.getCurrentPosition((async e=>{const t={latitude:e.coords.latitude,longitude:e.coords.longitude};if(void 0!==t){const e=await fetch("/getQuotes?longitude="+t.longitude+"&latitude="+t.latitude,{method:"GET",headers:{Accept:"application/json"}}),o=(await e.json()).quotes;a(o)}else r.handleLocationError("Unable to access your location!")}))}),1e4);return()=>clearInterval(e)})),0===t.length||!t)return React.createElement("div",null,React.createElement("h3",{className:"pageHeader"},"No thoughts. Head empty."));const c=t.map((e=>React.createElement("div",{className:"quoteObject",key:e._id},React.createElement("h2",null,e.boosted&&React.createElement("i",null,"Ad: "),e.quoteCopy),React.createElement("h3",null,"(overheard by ",e.owner,")"),React.createElement("div",{className:"popularityObject"},React.createElement("h3",null,"Popularity: ",e.votes),React.createElement("button",{onClick:()=>l(!0,e,_csrf)},"Like"),React.createElement("button",{onClick:()=>l(!1,e,_csrf)},"Dislike")))));return React.createElement("div",null,React.createElement("h1",{className:"pageHeader"},"Here's what people are hearing:"),c)},OwnerQuoteContainer:s}},603:e=>{const t=e=>{document.getElementById("errorText").textContent=e,document.getElementById("errorMessage").classList.remove("hidden"),setTimeout((()=>{document.getElementById("errorMessage").classList.add("hidden")}),12e3)};e.exports={handleError:t,handleLocationError:e=>{document.getElementById("locationErrorText").textContent=e,document.getElementById("locationErrorMessage").classList.remove("hidden"),setTimeout((()=>{document.getElementById("locationErrorMessage").classList.add("hidden")}),12e3)},sendRequest:async(e,a,o,n)=>{const r=await fetch(a,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),c=await r.json();document.getElementById("errorMessage").classList.add("hidden"),c.redirect&&(window.location=c.redirect),c.error&&t(c.error),n&&n(c)}}}},t={};!function a(o){var n=t[o];if(void 0!==n)return n.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,a),r.exports}(59)})();