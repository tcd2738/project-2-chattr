(()=>{var e={937:(e,t,a)=>{const{useState:r,useEffect:o}=React,n=a(603),c=async e=>{e.preventDefault(),n.hideError();const t=e.target.querySelector("#jarName").value,a=e.target.querySelector("#_csrf").value;return t?(await n.sendRequest("POST",e.target.action,{jarName:t,_csrf:a}),!1):(n.handleError("You didn't enter a jar name!"),!1)};e.exports={JarCreationWindow:e=>React.createElement("form",{id:"jarForm",onSubmit:c,name:"jarForm",action:"/makeJar",method:"POST",className:"jarForm"},React.createElement("h1",null,"Create a Personal Jar: "),React.createElement("label",{htmlFor:"jarName"},"Jar Name: "),React.createElement("input",{id:"jarName",type:"text",name:"jarName",placeholder:"Jar Name"}),React.createElement("input",{id:"_csrf",type:"hidden",name:"_csrf",value:e.csrf}),React.createElement("input",{className:"makeJar",type:"submit",value:"Create Jar"})),LocationJarContainer:e=>{const[t,a]=r(e.quotes),[c,i]=r(e.location);if(o((async()=>{setTimeout((async()=>{let e;await navigator.geolocation.getCurrentPosition((t=>{const a={latitude:t.coords.latitude,longitude:t.coords.longitude};e=a})),setTimeout((async()=>{if(void 0!==e){const t=await fetch("/getLocationQuotes?longitude="+e.longitude+"&latitude="+e.latitude,{method:"GET",headers:{Accept:"application/json"}}),r=(await t.json()).quotes;a(r),i(e),console.log("just checked quotes and location")}else n.handleError("Unable to access your location!")}),5e3)}),1e4)})),0===t.length||!t)return React.createElement("div",null,React.createElement("h3",null,"No quotes here!"));const l=t.map((e=>React.createElement("div",{key:e._id},React.createElement("h2",null,e.quoteCopy," - overheard by ",React.createElement("i",null,e.owner)))));return React.createElement("div",null,React.createElement("h1",null,"Quotes in Your Area"),l)}}},603:e=>{const t=e=>{document.getElementById("errorText").textContent=e,document.getElementById("errorMessage").classList.remove("hidden")};e.exports={handleError:t,sendRequest:async(e,a,r,o)=>{const n=await fetch(a,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),c=await n.json();document.getElementById("errorMessage").classList.add("hidden"),c.redirect&&(window.location=c.redirect),c.error&&t(c.error),o&&o(c)},hideError:()=>{document.getElementById("errorMessage").classList.add("hidden")},getLocation:async()=>navigator.geolocation.getCurrentPosition((e=>({latitude:e.coords.latitude,longitude:e.coords.longitude})))}}},t={};!function a(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,a),n.exports}(937)})();